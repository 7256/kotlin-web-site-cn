<!DOCTYPE html>
<!--[if (IE 7)&!(IEMobile)]><html class="no-js ie ie7" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js ie ie8" lang="en"><![endif]-->
<!--[if (IE 9)&!(IEMobile)]><html class="no-js ie ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<html>
<head>
<meta charset="utf-8">
<title>Operator overloading</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="Shortcut Icon" href="/kotlin-web-site-cn/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/kotlin-web-site-cn/assets/images/apple-touch-icon.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/kotlin-web-site-cn/assets/images/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/kotlin-web-site-cn/assets/images/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/kotlin-web-site-cn/assets/images/apple-touch-icon-144x144.png" />
<link rel="stylesheet" href="/kotlin-web-site-cn/css/styles.css">
<!-- begin Convert Experiments code--><!--<script type="text/javascript">var _conv_host = (("https:" == document.location.protocol) ? "https://d9jmv9u00p0mv.cloudfront.net" : "http://cdn-1.convertexperiments.com");document.write(decodeURIComponent("%3Cscript src='" + _conv_host + "/js/10013947-10013329.js' type='text/javascript'%3E%3C/script%3E"));</script> --> <!-- end Convert Experiments code -->
<script src="/kotlin-web-site-cn/js/vendor/requirejs/require.js"></script>
<script src="/kotlin-web-site-cn/js/config/bootstrap.js"></script>
</head>
<body>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5P98');</script>
<!-- End Google Tag Manager -->
<!-- CrazyEgg -->
<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0013/6939.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>
<!-- End CrazyEgg -->


<div class="global-layout">

    <header class="global-header">

    <div class="global-header-panel">
        <div class="g-layout">
            <a class="global-header-logo" href="/kotlin-web-site-cn/">Kotlin</a>

            
                
            

            <nav role="navigation" class="global-nav">
    

    
        
        
        
        

        

        
            
        

        

        <a href="/kotlin-web-site-cn/docs/reference/"
           class="nav-item is_active"
        >
            学习
        </a>
    
        
        
        
        

        

        

        

        <a href="/kotlin-web-site-cn/contribute.html"
           class="nav-item "
        >
            贡献
        </a>
    
        
        
        
        

        

        

        
            
        

        <a href="http://try.kotlinlang.org"
           class="nav-item "
        >
            在线尝试
        </a>
    
        
        
        
        

        
            

    
        <div class="extra-nav download-button">
            <a href="/kotlin-web-site-cn/#get-kotlin" class="get-kotlin-button">
                Get Kotlin
                <span class="version">(0.12.613)</span>
            </a>
        </div>
    
</nav>

        </div>
    </div>
    
    <div class="g-layout">
        
    </div>
</header>

    <div class="g-layout global-content">
        <div class="g-grid">

    <div class="g-12">
        
    

    <nav role="navigation" class="docs-nav">
        
            
            

            <div class="nav-item-wrap">
            
                    <a href="/kotlin-web-site-cn/docs/reference/" class="nav-item is_active">
                        <span class="nav-item-text">
                            参考
                        </span>
                    </a>
            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/" class="nav-item">
                    <span class="nav-item-text">
                        教程
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/videos.html" class="nav-item">
                    <span class="nav-item-text">
                        视频
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/events.html" class="nav-item">
                    <span class="nav-item-text">
                        事件记
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/resources.html" class="nav-item">
                    <span class="nav-item-text">
                        更多资源
                    </span>
                </a>

            
            </div>
        
    </nav>


    </div>

    <aside class="g-3">
        <div id="reference-nav">
            



    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
            
        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    



<nav role="navigation" class="side-tree-nav">

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="开始">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">开始</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/basic-syntax.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">基础语法</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/idioms.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">习惯用法</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/coding-conventions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">编码习惯</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="基础">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">基础</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/basic-types.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">基本类型</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/packages.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">包</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/control-flow.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">控制流</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/returns.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">返回和跳转</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="类和对象">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">类和对象</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">类和继承</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/properties.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">属性和字段</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/interfaces.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Interfaces</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/visibility-modifiers.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">可见性修饰符</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/extensions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Extensions</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/data-classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">数据类</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/generics.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Generics</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/nested-classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">嵌套类</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/enum-classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">枚举类</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/object-declarations.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Objects</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/delegation.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Delegation</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/delegated-properties.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Delegated Properties</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Functions and Lambdas">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Functions and Lambdas</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/functions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Functions</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/lambdas.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Lambdas</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/inline-functions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Inline Functions</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _opened"
         data-id="Other">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Other</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/multi-declarations.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Multi-Declarations</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/ranges.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Ranges</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/typecasts.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Type Checks and Casts</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/this-expressions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">This expressions</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/equality.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Equality</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <div class="tree-item-title tree-leaf-title js-item-title js-leaf-title is_active">
                    <div class="marker"></div>
                    <div class="text">Operator overloading</div>
                </div>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/null-safety.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Null Safety</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/exceptions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Exceptions</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/annotations.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Annotations</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/reflection.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Reflection</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/type-safe-builders.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Type-Safe Builders</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/dynamic-type.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Dynamic Type</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Reference">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Reference</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/api/latest/jvm/stdlib/index.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">API Reference</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/grammar.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Grammar</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Interop">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Interop</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/java-interop.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Java Interop</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Tools">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Tools</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/kotlin-doc.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Documenting Kotlin Code</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/using-maven.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Using Maven</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/using-ant.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Using Ant</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/using-griffon.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Using Griffon</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/using-gradle.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Using Gradle</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="FAQ">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">FAQ</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/faq.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">FAQ</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/comparison-to-java.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Comparison to Java</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/comparison-to-scala.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Comparison to Scala</span></a>
            
            </div>
        

    </div>

    

</nav>

            <a href="/docs/kotlin-docs.pdf" class="reference-pdf-link">
                <span class="icon"></span>
                <span class="text">Full Kotlin Reference</span>
            </a>
        </div>
    </aside>

    <article role="main" class="page-content g-9">
        


<a href="https://github.com/JetBrains/kotlin-web-site/edit/master/docs/reference/operator-overloading.md"
   class="page-link-to-github"
   target="_blank"
   title="Edit this page on GitHub">
        <i class="github-icon"></i>
        <span class="text">Edit Page</span>
</a>

        <h1 id="section">运算符重载<a href="#section" class="anchor"></a></h1>

<p>Kotlin允许我们实现一些我们自定义类型的运算符实现。这些运算符有固定的表示(像 <code>+</code> 或者 <code>*</code>) ，和固定的<a href="grammar.html#precedence">优先级</a>。为实现这样的运算符，我们提供了固定名字的<a href="functions.html#member-functions">成员函数</a>和<a href="extensions.html">扩展函数</a>，比如二元运算符的左值和一元运算符的参数类型。</p>

<h2 id="section-1">转换<a href="#section-1" class="anchor"></a></h2>

<p>这里我们描述了一些常用运算符的重载。</p>

<h3 id="section-2">一元运算符<a href="#section-2" class="anchor"></a></h3>

<table>
  <thead>
    <tr>
      <th>表达式</th>
      <th>翻译为</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>+a</code></td>
      <td><code>a.plus()</code></td>
    </tr>
    <tr>
      <td><code>-a</code></td>
      <td><code>a.minus()</code></td>
    </tr>
    <tr>
      <td><code>!a</code></td>
      <td><code>a.not()</code></td>
    </tr>
  </tbody>
</table>

<p>这张表解释了当编译器运行时，比如，表达式 <code>+a</code> ，是这样运行的：</p>

<ul>
  <li>决定<code>a</code>的类型, 假设为<code>T</code>。</li>
  <li>寻找接收者是<code>T</code>的无参函数<code>plus()</code>,例如一个成员方法或者扩展方法。</li>
  <li>如果找不到或者不明确就返回一个错误。</li>
  <li>如果函数是当前函数或返回类型是<code>R</code>则表达式<code>+a</code>是<code>R</code>类型。</li>
</ul>

<p><em>注意</em> 这些操作符和其它的一样, 都被优化为<a href="basic-types.html">基本类型</a>并且不会产生多余的开销。</p>

<table>
  <thead>
    <tr>
      <th>表达式</th>
      <th>翻译为</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>a++</code></td>
      <td><code>a.inc()</code> + see below</td>
    </tr>
    <tr>
      <td><code>a--</code></td>
      <td><code>a.dec()</code> + see below</td>
    </tr>
  </tbody>
</table>

<p>这些操作符允许修改接收者和返回类型。</p>

<blockquote class="note">
  <p><strong><code>inc()/dec()</code> shouldn’t mutate the receiver object</strong>.<br />
By “changing the receiver” we mean <em>the receiver-variable</em>, not the receiver object.</p>
</blockquote>

<p>编译器是这样解决有<em>后缀</em>的操作符的比如<code>a++</code>:</p>

<ul>
  <li>决定<code>a</code>的类型, 假设为<code>T</code>。</li>
  <li>Looks up a function <code>inc()</code> with no parameters, applicable to the receiver of type <code>T</code>.</li>
  <li>If the function returns a type <code>R</code>, then it must be a subtype of <code>T</code>.</li>
</ul>

<p>计算表达式的效果是：</p>

<ul>
  <li>Store the initial value of <code>a</code> to a temporary storage <code>a0</code>,</li>
  <li>Assign the result of <code>a.inc()</code> to <code>a</code>,</li>
  <li>Return <code>a0</code> as a result of the expression.</li>
</ul>

<p>a– 的运算步骤也是一样的。</p>

<p>对于前缀运算符<code>++a</code>和<code>--a</code>的解决方式也是一样的, 效果是:</p>

<ul>
  <li>Assign the result of <code>a.inc()</code> to <code>a</code>,</li>
  <li>Return the new value of <code>a</code> as a result of the expression.</li>
</ul>

<h3 id="section-3">二元操作符<a href="#section-3" class="anchor"></a></h3>

<table>
  <thead>
    <tr>
      <th>表达式</th>
      <th>翻译为</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>a + b</code></td>
      <td><code>a.plus(b)</code></td>
    </tr>
    <tr>
      <td><code>a - b</code></td>
      <td><code>a.minus(b)</code></td>
    </tr>
    <tr>
      <td><code>a * b</code></td>
      <td><code>a.times(b)</code></td>
    </tr>
    <tr>
      <td><code>a / b</code></td>
      <td><code>a.div(b)</code></td>
    </tr>
    <tr>
      <td><code>a % b</code></td>
      <td><code>a.mod(b)</code></td>
    </tr>
    <tr>
      <td><code>a..b </code></td>
      <td><code>a.rangeTo(b)</code></td>
    </tr>
  </tbody>
</table>

<p>编译器只是解决了该表中翻译为列的表达式。</p>

<table>
  <thead>
    <tr>
      <th>Expression</th>
      <th>Translated to</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>a in b</code></td>
      <td><code>b.contains(a)</code></td>
    </tr>
    <tr>
      <td><code>a !in b</code></td>
      <td><code>!b.contains(a)</code></td>
    </tr>
  </tbody>
</table>

<p id="in">in 和 !in 的产生步骤是一样的，但参数顺序是相反的。</p>

<table>
  <thead>
    <tr>
      <th>标志</th>
      <th>翻译为</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>a[i]</code></td>
      <td><code>a.get(i)</code></td>
    </tr>
    <tr>
      <td><code>a[i, j]</code></td>
      <td><code>a.get(i, j)</code></td>
    </tr>
    <tr>
      <td><code>a[i_1, ...,  i_n]</code></td>
      <td><code>a.get(i_1, ...,  i_n)</code></td>
    </tr>
    <tr>
      <td><code>a[i] = b</code></td>
      <td><code>a.set(i, b)</code></td>
    </tr>
    <tr>
      <td><code>a[i, j] = b</code></td>
      <td><code>a.set(i, j, b)</code></td>
    </tr>
    <tr>
      <td><code>a[i_1, ...,  i_n] = b</code></td>
      <td><code>a.set(i_1, ..., i_n, b)</code></td>
    </tr>
  </tbody>
</table>

<p>方括号被转换为 get set 函数。</p>

<table>
  <thead>
    <tr>
      <th>标志</th>
      <th>翻译为</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>a(i)</code></td>
      <td><code>a.invoke(i)</code></td>
    </tr>
    <tr>
      <td><code>a(i, j)</code></td>
      <td><code>a.invoke(i, j)</code></td>
    </tr>
    <tr>
      <td><code>a(i_1, ...,  i_n)</code></td>
      <td><code>a.invoke(i_1, ...,  i_n)</code></td>
    </tr>
  </tbody>
</table>

<p>括号被转换为带有正确参数的 invoke 函数。</p>

<table id="assignments">
  <thead>
    <tr>
      <th>表达式</th>
      <th>翻译为</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>a += b</code></td>
      <td><code>a.plusAssign(b)</code></td>
    </tr>
    <tr>
      <td><code>a -= b</code></td>
      <td><code>a.minusAssign(b)</code></td>
    </tr>
    <tr>
      <td><code>a *= b</code></td>
      <td><code>a.timesAssign(b)</code></td>
    </tr>
    <tr>
      <td><code>a /= b</code></td>
      <td><code>a.divAssign(b)</code></td>
    </tr>
    <tr>
      <td><code>a %= b</code></td>
      <td><code>a.modAssign(b)</code></td>
    </tr>
  </tbody>
</table>

<p>在分配 a+= b时编译器是下面这样实现的:</p>

<ul>
  <li>If the function from the right column is available
    <ul>
      <li>If the corresponding binary function (i.e. <code>plus()</code> for <code>plusAssign()</code>) is available too, report error (ambiguity).</li>
      <li>Make sure its return type is <code>Unit</code>, and report an error otherwise.</li>
      <li>Generate code for <code>a.plusAssign(b)</code></li>
    </ul>
  </li>
  <li>Otherwise, try to generate code for <code>a = a + b</code> (this includes a type check: the type of <code>a + b</code> must be a subtype of <code>a</code>).</li>
</ul>

<p id="Equals"><em>注意</em>: assignments在Kotlin中不是表达式.</p>

<table>
  <thead>
    <tr>
      <th>表达式</th>
      <th>翻译为</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>a == b</code></td>
      <td><code>a?.equals(b) ?: b.identityEquals(null)</code></td>
    </tr>
    <tr>
      <td><code>a != b</code></td>
      <td><code>!(a?.equals(b) ?: b.identityEquals(null))</code></td>
    </tr>
  </tbody>
</table>

<p><em>注意</em>: <code>===</code> 和 <code>!==</code> (实例检查)不能重载, 所以没有转换方式。</p>

<p><code>==</code>运算符有两点不同:</p>

<ul>
  <li>它被翻译成一个复杂的表达式，用于筛选空值，而且 <code>null == null</code> 是真.</li>
  <li>它需要带有特定签名的函数，而不仅仅是特定名称的函数，像下面这样：</li>
</ul>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">fun</span> <span class="nf">equals</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">?):</span> <span class="n">Boolean</span></code></pre>

<p>或者用相同的参数列表和返回类型的扩展函数.</p>

<table>
  <thead>
    <tr>
      <th>标志</th>
      <th>翻译为</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>a &gt; b</code></td>
      <td><code>a.compareTo(b) &gt; 0</code></td>
    </tr>
    <tr>
      <td><code>a &lt; b</code></td>
      <td><code>a.compareTo(b) &lt; 0</code></td>
    </tr>
    <tr>
      <td><code>a &gt;= b</code></td>
      <td><code>a.compareTo(b) &gt;= 0</code></td>
    </tr>
    <tr>
      <td><code>a &lt;= b</code></td>
      <td><code>a.compareTo(b) &lt;= 0</code></td>
    </tr>
  </tbody>
</table>

<p>所有的比较都转换为<code>compareTo</code>的调用，这个函数需要返回<code>Int</code>值</p>

<h2 id="section-4">命名函数的中缀调用<a href="#section-4" class="anchor"></a></h2>

<p>我们可以通过<a href="functions.html#infix-notation">中缀函数的调用</a>.
来模拟自定义中缀操作符。</p>

    </article>
</div>

<script>
require(['page/reference'], function(page) {
    page();
});
</script>
    </div>

</div>

<footer role="contentinfo" class="global-footer">

    <div class="global-footer-terms">
        <div class="g-layout">

            <div class="terms-copyright">
                &copy; 2000&ndash;2015 JetBrains. All rights reserved
            </div>

            <div class="terms-sponsor">
                Sponsored and developed by <a href="http://jetbrains.com" class="sponsor sponsor_jetbrains" target="_blank">JetBrains</a> Translation by <a href="http://tanfujun.cc" class="testimonial-company-link" target="_blank" rel="nofollow">晓_晨DEV</a>
            </div>
        </div>
    </div>

</footer>
</body>
</html>