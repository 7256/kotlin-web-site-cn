<!DOCTYPE html>
<!--[if (IE 7)&!(IEMobile)]><html class="no-js ie ie7" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js ie ie8" lang="en"><![endif]-->
<!--[if (IE 9)&!(IEMobile)]><html class="no-js ie ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<html>
<head>
<meta charset="utf-8">
<title>Java Interop</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="Shortcut Icon" href="/kotlin-web-site-cn/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/kotlin-web-site-cn/assets/images/apple-touch-icon.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/kotlin-web-site-cn/assets/images/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/kotlin-web-site-cn/assets/images/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/kotlin-web-site-cn/assets/images/apple-touch-icon-144x144.png" />
<link rel="stylesheet" href="/kotlin-web-site-cn/css/styles.css">
<script src="/kotlin-web-site-cn/js/vendor/requirejs/require.js"></script>
<script src="/kotlin-web-site-cn/js/config/bootstrap.js"></script>
</head>
<body>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5P98');</script>
<!-- End Google Tag Manager -->
<!-- CrazyEgg -->
<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0013/6939.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>
<!-- End CrazyEgg -->


<div class="global-layout">

    <header class="global-header">

    <div class="global-header-panel">
        <div class="g-layout">
            <a class="global-header-logo" href="/kotlin-web-site-cn/">Kotlin</a>

            
                
            

            <nav role="navigation" class="global-nav">
    

    
        
        
        
        

        

        
            
        

        

        <a href="/kotlin-web-site-cn/docs/reference/"
           class="nav-item is_active"
        >
            学习
        </a>
    
        
        
        
        

        

        

        

        <a href="/kotlin-web-site-cn/contribute.html"
           class="nav-item "
        >
            贡献
        </a>
    
        
        
        
        

        

        

        
            
        

        <a href="http://try.kotlinlang.org"
           class="nav-item "
        >
            在线尝试
        </a>
    
        
        
        
        

        
            

    
        <div class="extra-nav download-button">
            <a href="/kotlin-web-site-cn/#get-kotlin" class="get-kotlin-button">
                Get Kotlin
                <span class="version">(0.13.1514)</span>
            </a>
        </div>
    
</nav>

        </div>
    </div>
    
    <div class="g-layout">
        
    </div>
</header>

    <div class="g-layout global-content">
        <div class="g-grid">

    <div class="g-12">
        
    

    <nav role="navigation" class="docs-nav">
        
            
            

            <div class="nav-item-wrap">
            
                    <a href="/kotlin-web-site-cn/docs/reference/" class="nav-item is_active">
                        <span class="nav-item-text">
                            参考
                        </span>
                    </a>
            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/" class="nav-item">
                    <span class="nav-item-text">
                        教程
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/videos.html" class="nav-item">
                    <span class="nav-item-text">
                        视频
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/events.html" class="nav-item">
                    <span class="nav-item-text">
                        事件记
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/resources.html" class="nav-item">
                    <span class="nav-item-text">
                        更多资源
                    </span>
                </a>

            
            </div>
        
    </nav>


    </div>

    <aside class="g-3">
        <div id="reference-nav">
            



    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
            
        
    

    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    

    

        
            
        

        
    

        
            
        

        
    

        
            
        

        
    



<nav role="navigation" class="side-tree-nav">

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="开始">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">开始</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/basic-syntax.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">基础语法</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/idioms.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">习惯用法</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/coding-conventions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">编码习惯</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="基础">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">基础</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/basic-types.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">基本类型</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/packages.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">包</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/control-flow.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">控制流</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/returns.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">返回和跳转</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="类和对象">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">类和对象</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">类和继承</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/properties.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">属性和字段</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/interfaces.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Interfaces</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/visibility-modifiers.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">可见性修饰符</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/extensions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">扩展</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/data-classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">数据类</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/generics.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">泛型</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/nested-classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">嵌套类</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/enum-classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">枚举类</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/object-declarations.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">对象</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/delegation.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">委托</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/delegated-properties.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">委托属性</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="函数和Lambad表达式">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">函数和Lambad表达式</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/functions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">函数</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/lambdas.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Lambdas表达式</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/inline-functions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">内联函数</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="其他">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">其他</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/multi-declarations.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">多重声明</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/ranges.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">范围</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/typecasts.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">类型检查与转换</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/this-expressions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">This表达式</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/equality.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">等式</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/operator-overloading.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">操作符重载</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/null-safety.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Null 安全性</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/exceptions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">异常</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/annotations.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">注解</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/reflection.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">反射</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/type-safe-builders.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">类型安全的构建器</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/dynamic-type.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">动态类型</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="参考">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">参考</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/api/latest/jvm/stdlib/index.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">API参考</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/grammar.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">语法</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _opened"
         data-id="互操作">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">互操作</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <div class="tree-item-title tree-leaf-title js-item-title js-leaf-title is_active">
                    <div class="marker"></div>
                    <div class="text">Java互操作</div>
                </div>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="工具">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">工具</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/kotlin-doc.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">生成kotlin代码文档</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/using-maven.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Using Maven</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/using-ant.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Using Ant</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/using-griffon.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Using Griffon</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/using-gradle.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Using Gradle</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="常见问题">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">常见问题</div>
        </div>

        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/faq.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">常见问题</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/comparison-to-java.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Comparison to Java</span></a>
            
            </div>
        
            
            
                
                
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/comparison-to-scala.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Comparison to Scala</span></a>
            
            </div>
        

    </div>

    

</nav>

            <a href="/docs/kotlin-docs.pdf" class="reference-pdf-link">
                <span class="icon"></span>
                <span class="text">Full Kotlin Reference</span>
            </a>
        </div>
    </aside>

    <article role="main" class="page-content g-9">
        


<a href="https://github.com/cctanfujun/kotlin-web-site-cn/edit/master/docs/reference/java-interop.md"
   class="page-link-to-github"
   target="_blank"
   title="Edit this page on GitHub">
        <i class="github-icon"></i>
        <span class="text">Edit Page</span>
</a>

        <h1 id="java">Java交互<a href="#java" class="anchor"></a></h1>

<p>Kotlin 在设计时就是以与 java 交互为中心的。现存的 Java 代码可以在 kotlin 中使用，并且 Kotlin 代码也可以在 Java 中流畅运行。这节我们会讨论在 kotlin 中调用 Java 代码的细节。</p>

<h2 id="kotlinjava">在Kotlin中调用Java代码<a href="#kotlinjava" class="anchor"></a></h2>

<p>基本所有的 Java 代码都可以运行</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">import</span> <span class="nn">java.util.*</span>

<span class="k">fun</span> <span class="nf">demo</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;)</span> <span class="p">{</span>
  <span class="k">val</span> <span class="py">list</span> <span class="p">=</span> <span class="n">ArrayList</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;()</span>
  <span class="c1">// &#39;for&#39;-loops work for Java collections:</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">item</span> <span class="k">in</span> <span class="n">source</span><span class="p">)</span>
    <span class="n">list</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
  <span class="c1">// Operator conventions work as well:</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">0.</span><span class="p">.</span><span class="n">source</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span>
    <span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">source</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="c1">// get and set are called</span>
<span class="p">}</span></code></pre>

<h3 id="void">返回void的方法<a href="#void" class="anchor"></a></h3>

<p>如果一个Java方法返回void，那么在Kotlin中，它会返回<code>Unit</code>。
万一有人使用它的返回值，Kotlin的编译器会在调用的地方赋值，因为这个值本身已经提前可以预知了(这个值就是<code>Unit</code>)。</p>

<h3 id="javakotlin">将Java代码中与Kotlin关键字冲突的标识符进行转义<a href="#javakotlin" class="anchor"></a></h3>

<p>一些Kotlin的关键字在Java中是合法的标识符: <em class="keyword">in</em>, <em class="keyword">object</em>, <em class="keyword">is</em>, 等等.
如果一个Java库在方法中使用了Kotlin关键字,你仍然可以使用这个方法
使用反引号(`)转义来避免冲突。</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="n">foo</span><span class="p">.</span><span class="n">`is`</span><span class="p">(</span><span class="n">bar</span><span class="p">)</span></code></pre>

<h3 id="null">Null安全性和平台类型<a href="#null" class="anchor"></a></h3>

<p>Java中的所有引用都可能是<em class="keyword">null</em>值，这使得Kotlin严格的null控制对来自Java的对象来说变得不切实际。在Kotlin中Java声明类型被特别对待叫做<em>platform types</em>.这种类型的Null检查是不严格的，所以他们还维持着同Java中一样的安全性。</p>

<p>考虑如下例子:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">val</span> <span class="py">list</span> <span class="p">=</span> <span class="n">ArrayList</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;()</span> <span class="c1">// non-null (constructor result)</span>
<span class="n">list</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="s">&quot;Item&quot;</span><span class="p">)</span>
<span class="k">val</span> <span class="py">size</span> <span class="p">=</span> <span class="n">list</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="c1">// non-null (primitive int)</span>
<span class="k">val</span> <span class="py">item</span> <span class="p">=</span> <span class="n">list</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="c1">// platform type inferred (ordinary Java object)</span></code></pre>

<p>When we call methods on variables of platform types, Kotlin does not issue nullability errors at compile time,
but the call may fail at runtime, because of a null-pointer exception or an assertion that Kotlin generates to
prevent nulls from propagating:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="n">item</span><span class="p">.</span><span class="n">substring</span><span class="p">(</span><span class="m">1</span><span class="p">)</span> <span class="c1">// allowed, may throw an exception if item == null</span></code></pre>

<p>Platform types are <em>non-denotable</em>, meaning that one can not write them down explicitly in the language.
When a platform value is assigned to a Kotlin variable, we can rely on type inference (the variable will have an inferred platform type then,
 as <code>item</code> has in the example above), or we can choose the type that we expect (both nullable and non-null types are allowed):</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">val</span> <span class="py">nullable</span><span class="p">:</span> <span class="n">String</span><span class="p">?</span> <span class="p">=</span> <span class="n">item</span> <span class="c1">// allowed, always works</span>
<span class="k">val</span> <span class="py">notNull</span><span class="p">:</span> <span class="n">String</span> <span class="p">=</span> <span class="n">item</span> <span class="c1">// allowed, may fail at runtime</span></code></pre>

<p>If we choose a non-null type, the compiler will emit an assertion upon assignment. This prevents Kotlin’s non-null variables from holding
nulls. Assertions are also emitted when we pass platform values to Kotlin functions expecting non-null values etc.
Overall, the compiler does its best to prevent nulls from propagating far through the program (although sometimes this is
impossible to eliminate entirely, because of generics).</p>

<h4 id="notation-for-platform-types">Notation for Platform Types</h4>

<p>As mentioned above, platform types cannot be mentioned explicitly in the program, so there’s no syntax for them in the language.
Nevertheless, the compiler and IDE need to display them sometimes (in error messages, parameter info etc), so we have a
mnemonic notation for them:</p>

<ul>
  <li><code>T!</code> means “<code>T</code> or <code>T?</code>”,</li>
  <li><code>(Mutable)Collection&lt;T&gt;!</code> means “Java collection of <code>T</code> may be mutable or not, may be nullable or not”,</li>
  <li><code>Array&lt;(out) T&gt;!</code> means “Java array of <code>T</code> (or a subtype of <code>T</code>), nullable or not”</li>
</ul>

<h3 id="mapped-types">Mapped types<a href="#mapped-types" class="anchor"></a></h3>

<p>Kotlin treats some Java types specially. Such types are not loaded from Java “as is”, but are <em>mapped</em> to corresponding Kotlin types.
The mapping only matters at compile time, the runtime representation remains unchanged.
 Java’s primitive types are mapped to corresponding Kotlin types (keeping <a href="#platform-types">platform types</a> in mind):</p>

<table class="zebra">
  <thead>
    <tr>
      <th><strong>Java type</strong></th>
      <th><strong>Kotlin type</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>byte</code></td>
      <td><code>kotlin.Byte</code></td>
    </tr>
    <tr>
      <td><code>short</code></td>
      <td><code>kotlin.Short</code></td>
    </tr>
    <tr>
      <td><code>int</code></td>
      <td><code>kotlin.Int</code></td>
    </tr>
    <tr>
      <td><code>long</code></td>
      <td><code>kotlin.Long</code></td>
    </tr>
    <tr>
      <td><code>char</code></td>
      <td><code>kotlin.Char</code></td>
    </tr>
    <tr>
      <td><code>float</code></td>
      <td><code>kotlin.Float</code></td>
    </tr>
    <tr>
      <td><code>double</code></td>
      <td><code>kotlin.Double</code></td>
    </tr>
    <tr>
      <td><code>boolean</code></td>
      <td><code>kotlin.Boolean</code></td>
    </tr>
  </tbody>
</table>

<p>Some non-primitive built-in classes are also mapped:</p>

<table class="zebra">
  <thead>
    <tr>
      <th><strong>Java type</strong></th>
      <th><strong>Kotlin type</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>java.lang.Object</code></td>
      <td><code>kotlin.Any!</code></td>
    </tr>
    <tr>
      <td><code>java.lang.Cloneable</code></td>
      <td><code>kotlin.Cloneable!</code></td>
    </tr>
    <tr>
      <td><code>java.lang.Comparable</code></td>
      <td><code>kotlin.Comparable!</code></td>
    </tr>
    <tr>
      <td><code>java.lang.Enum</code></td>
      <td><code>kotlin.Enum!</code></td>
    </tr>
    <tr>
      <td><code>java.lang.Annotation</code></td>
      <td><code>kotlin.Annotation!</code></td>
    </tr>
    <tr>
      <td><code>java.lang.Deprecated</code></td>
      <td><code>kotlin.deprecated!</code></td>
    </tr>
    <tr>
      <td><code>java.lang.Void</code></td>
      <td><code>kotlin.Nothing!</code></td>
    </tr>
    <tr>
      <td><code>java.lang.CharSequence</code></td>
      <td><code>kotlin.CharSequence!</code></td>
    </tr>
    <tr>
      <td><code>java.lang.String</code></td>
      <td><code>kotlin.String!</code></td>
    </tr>
    <tr>
      <td><code>java.lang.Number</code></td>
      <td><code>kotlin.Number!</code></td>
    </tr>
    <tr>
      <td><code>java.lang.Throwable</code></td>
      <td><code>kotlin.Throwable!</code></td>
    </tr>
  </tbody>
</table>

<p>Collection types may be read-only or mutable in Kotlin, so Java’s collections are mapped as follows
(all Kotlin types in this table reside in the package <code>kotlin</code>):</p>

<table class="zebra">
  <thead>
    <tr>
      <th><strong>Java type</strong></th>
      <th><strong>Kotlin read-only type</strong></th>
      <th><strong>Kotlin mutable type</strong></th>
      <th><strong>Loaded platform type</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterator&lt;T&gt;</code></td>
      <td><code>Iterator&lt;T&gt;</code></td>
      <td><code>MutableIterator&lt;T&gt;</code></td>
      <td><code>(Mutable)Iterator&lt;T&gt;!</code></td>
    </tr>
    <tr>
      <td><code>Iterable&lt;T&gt;</code></td>
      <td><code>Iterable&lt;T&gt;</code></td>
      <td><code>MutableIterable&lt;T&gt;</code></td>
      <td><code>(Mutable)Iterable&lt;T&gt;!</code></td>
    </tr>
    <tr>
      <td><code>Collection&lt;T&gt;</code></td>
      <td><code>Collection&lt;T&gt;</code></td>
      <td><code>MutableCollection&lt;T&gt;</code></td>
      <td><code>(Mutable)Collection&lt;T&gt;!</code></td>
    </tr>
    <tr>
      <td><code>Set&lt;T&gt;</code></td>
      <td><code>Set&lt;T&gt;</code></td>
      <td><code>MutableSet&lt;T&gt;</code></td>
      <td><code>(Mutable)Set&lt;T&gt;!</code></td>
    </tr>
    <tr>
      <td><code>List&lt;T&gt;</code></td>
      <td><code>List&lt;T&gt;</code></td>
      <td><code>MutableList&lt;T&gt;</code></td>
      <td><code>(Mutable)List&lt;T&gt;!</code></td>
    </tr>
    <tr>
      <td><code>ListIterator&lt;T&gt;</code></td>
      <td><code>ListIterator&lt;T&gt;</code></td>
      <td><code>MutableListIterator&lt;T&gt;</code></td>
      <td><code>(Mutable)ListIterator&lt;T&gt;!</code></td>
    </tr>
    <tr>
      <td><code>Map&lt;K, V&gt;</code></td>
      <td><code>Map&lt;K, V&gt;</code></td>
      <td><code>MutableMap&lt;K, V&gt;</code></td>
      <td><code>(Mutable)Map&lt;K, V&gt;!</code></td>
    </tr>
    <tr>
      <td><code>Map.Entry&lt;K, V&gt;</code></td>
      <td><code>Map.Entry&lt;K, V&gt;</code></td>
      <td><code>MutableMap.MutableEntry&lt;K,V&gt;</code></td>
      <td><code>(Mutable)Map.(Mutable)Entry&lt;K, V&gt;!</code></td>
    </tr>
  </tbody>
</table>

<p>Java’s arrays are mapped as mentioned <a href="java-interop.html#java-arrays">below</a>:</p>

<table class="zebra">
  <thead>
    <tr>
      <th><strong>Java type</strong></th>
      <th><strong>Kotlin type</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int[]</code></td>
      <td><code>kotlin.IntArray!</code></td>
    </tr>
    <tr>
      <td><code>String[]</code></td>
      <td><code>kotlin.Array&lt;(out) String&gt;!</code></td>
    </tr>
  </tbody>
</table>

<h3 id="java-generics-in-kotlin">Java generics in Kotlin<a href="#java-generics-in-kotlin" class="anchor"></a></h3>

<p>Kotlin’s generics are a little different from Java’s (see <a href="generics.html">Generics</a>). When importing Java types to Kotlin we perform some conversions:</p>

<ul>
  <li>Java’s wildcards are converted into type projections
    <ul>
      <li><code>Foo&lt;? extends Bar&gt;</code> becomes <code>Foo&lt;out Bar!&gt;!</code></li>
      <li><code>Foo&lt;? super Bar&gt;</code> becomes <code>Foo&lt;in Bar!&gt;!</code></li>
    </ul>
  </li>
  <li>Java’s raw types are converted into star projections
    <ul>
      <li><code>List</code> becomes <code>List&lt;*&gt;!</code>, i.e. <code>List&lt;out Any?&gt;!</code></li>
    </ul>
  </li>
</ul>

<p>Like Java’s, Kotlin’s generics are not retained at runtime, i.e. objects do not carry information about actual type arguments passed to their constructors,
i.e. <code>ArrayList&lt;Integer&gt;()</code> is indistinguishable from <code>ArrayList&lt;Character&gt;()</code>.
This makes it impossible to perform <em class="keyword">is</em>-checks that take generics into account.
Kotlin only allows <em class="keyword">is</em>-checks for star-projected generic types:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="k">is</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;)</span> <span class="c1">// Error: cannot check if it is really a List of Ints</span>
<span class="c1">// but</span>
<span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="k">is</span> <span class="n">List</span><span class="p">&lt;*&gt;)</span> <span class="c1">// OK: no guarantees about the contents of the list</span></code></pre>

<h3 id="java-arrays">Java Arrays<a href="#java-arrays" class="anchor"></a></h3>

<p>Arrays in Kotlin are invariant, unlike Java. This means that Kotlin does not let us assign an <code>Array&lt;String&gt;</code> to an <code>Array&lt;Any&gt;</code>,
which prevents a possible runtime failure. Passing an array of a subclass as an array of superclass to a Kotlin method is also prohibited,
but for Java methods this is allowed (though <a href="#platform-types">platform types</a> of the form <code>Array&lt;(out) String&gt;!</code>).</p>

<p>Arrays are used with primitive datatypes on the Java platform to avoid the cost of boxing/unboxing operations.
As Kotlin hides those implementation details, a workaround is required to interface with Java code.
There are specialized classes for every type of primitive array (<code>IntArray</code>, <code>DoubleArray</code>, <code>CharArray</code>, and so on) to handle this case.
They are not related to the <code>Array</code> class and are compiled down to Java’s primitive arrays for maximum performance.</p>

<p>Suppose there is a Java method that accepts an int array of indices:</p>

<pre><code class="code-block _highlighted lang_java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">JavaArrayExample</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">removeIndices</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">indices</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// code here...</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>

<p>To pass an array of primitive values you can do the following in Kotlin:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">val</span> <span class="py">javaObj</span> <span class="p">=</span> <span class="n">JavaArrayExample</span><span class="p">()</span>
<span class="k">val</span> <span class="py">array</span> <span class="p">=</span> <span class="n">intArray</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>
<span class="n">javaObj</span><span class="p">.</span><span class="n">removeIndices</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>  <span class="c1">// passes int[] to method</span></code></pre>

<p>Java classes sometimes use a method declaration for the indices with a variable number of arguments (varargs).</p>

<pre><code class="code-block _highlighted lang_java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">JavaArrayExample</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">removeIndices</span><span class="o">(</span><span class="kt">int</span><span class="o">...</span> <span class="n">indices</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// code here...</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>

<p>In that case you need to use the spread operator <code>*</code> to pass the <code>IntArray</code>:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">val</span> <span class="py">javaObj</span> <span class="p">=</span> <span class="n">JavaArray</span><span class="p">()</span>
<span class="k">val</span> <span class="py">array</span> <span class="p">=</span> <span class="n">intArray</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>
<span class="n">javaObj</span><span class="p">.</span><span class="n">removeIndicesVarArg</span><span class="p">(*</span><span class="n">array</span><span class="p">)</span></code></pre>

<p>It’s currently not possible to pass <em class="keyword">null</em> to a method that is declared as varargs.</p>

<p>When compiling to JVM byte codes, the compiler optimizes access to arrays so that there’s no overhead introduced:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">val</span> <span class="py">array</span> <span class="p">=</span> <span class="n">array</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">)</span>
<span class="n">array</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="p">=</span> <span class="n">array</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="p">*</span> <span class="m">2</span> <span class="c1">// no actual calls to get() and set() generated</span>
<span class="k">for</span> <span class="p">(</span><span class="n">x</span> <span class="k">in</span> <span class="n">array</span><span class="p">)</span> <span class="c1">// no iterator created</span>
  <span class="n">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code></pre>

<p>Even when we navigate with an index, it does not introduce any overhead</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="n">array</span><span class="p">.</span><span class="n">indices</span><span class="p">)</span> <span class="c1">// no iterator created</span>
  <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">+=</span> <span class="m">2</span></code></pre>

<p>Finally, <em class="keyword">in</em>-checks have no overhead either</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="n">array</span><span class="p">.</span><span class="n">indices</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// same as (i &gt;= 0 &amp;&amp; i &lt; array.size)</span>
  <span class="n">print</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="p">}</span></code></pre>

<h3 id="checked-exceptions">Checked Exceptions<a href="#checked-exceptions" class="anchor"></a></h3>

<p>In Kotlin, all exceptions are unchecked, meaning that the compiler does not force you to catch any of them.
So, when you call a Java method that declares a checked exception, Kotlin does not force you to do anything:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">fun</span> <span class="nf">render</span><span class="p">(</span><span class="n">list</span><span class="p">:</span> <span class="n">List</span><span class="p">&lt;*&gt;,</span> <span class="n">to</span><span class="p">:</span> <span class="n">Appendable</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">item</span> <span class="k">in</span> <span class="n">list</span><span class="p">)</span>
    <span class="n">to</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="n">toString</span><span class="p">())</span> <span class="c1">// Java would require us to catch IOException here</span>
<span class="p">}</span></code></pre>

<h3 id="object-methods">Object Methods<a href="#object-methods" class="anchor"></a></h3>

<p>When Java types are imported into Kotlin, all the references of the type <code>java.lang.Object</code> are turned into <code>Any</code>.
Since <code>Any</code> is not platform-specific, it only declares <code>toString()</code>, <code>hashCode()</code> and <code>equals()</code> as its members,
so to make other members of <code>java.lang.Object</code> available, Kotlin uses <a href="extensions.html">extension functions</a>.</p>

<h4 id="waitnotify">wait()/notify()</h4>

<p><a href="http://www.oracle.com/technetwork/java/effectivejava-136174.html">Effective Java</a> Item 69 kindly suggests to prefer concurrency utilities to <code>wait()</code> and <code>notify()</code>.
Thus, these methods are not available on references of type <code>Any</code>.
If you really need to call them, you can cast to <code>java.lang.Object</code>:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="p">(</span><span class="n">foo</span> <span class="k">as</span> <span class="n">java</span><span class="p">.</span><span class="n">lang</span><span class="p">.</span><span class="n">Object</span><span class="p">).</span><span class="n">wait</span><span class="p">()</span></code></pre>

<h4 id="getclass">getClass()</h4>

<p>To retrieve the type information from an object, we use the javaClass extension property.</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">val</span> <span class="py">fooClass</span> <span class="p">=</span> <span class="n">foo</span><span class="p">.</span><span class="n">javaClass</span></code></pre>

<p>Instead of Java’s <code>Foo.class</code> use javaClass<foo>().</foo></p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">val</span> <span class="py">fooClass</span> <span class="p">=</span> <span class="n">javaClass</span><span class="p">&lt;</span><span class="n">Foo</span><span class="p">&gt;()</span></code></pre>

<h4 id="clone">clone()</h4>

<p>To override <code>clone()</code>, your class needs to extend <code>kotlin.Cloneable</code>:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Example</span> <span class="p">:</span> <span class="n">Cloneable</span> <span class="p">{</span>
  <span class="k">override</span> <span class="k">fun</span> <span class="nf">clone</span><span class="p">():</span> <span class="n">Any</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="p">}</span></code></pre>

<p>Do not forget about <a href="http://www.oracle.com/technetwork/java/effectivejava-136174.html">Effective Java</a>, Item 11: <em>Override clone judiciously</em>.</p>

<h4 id="finalize">finalize()</h4>

<p>To override <code>finalize()</code>, all you need to do is simply declare it, without using the <em class="keyword">override</em> keyword:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">C</span> <span class="p">{</span>
  <span class="k">protected</span> <span class="k">fun</span> <span class="nf">finalize</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// finalization logic</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>

<p>According to Java’s rules, <code>finalize()</code> must not be <em class="keyword">private</em>.</p>

<h3 id="inheritance-from-java-classes">Inheritance from Java classes<a href="#inheritance-from-java-classes" class="anchor"></a></h3>
<p>At most one Java-class (and as many Java interfaces as you like) can be a supertype for a class in Kotlin. This class must go first in the supertype list.</p>

<h3 id="accessing-static-members">Accessing static members<a href="#accessing-static-members" class="anchor"></a></h3>

<p>Static members of Java classes form “companion objects” for these classes. We cannot pass such a “companion object” around as a value,
but can access the members explicitly, for example</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">if</span> <span class="p">(</span><span class="n">Character</span><span class="p">.</span><span class="n">isLetter</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span></code></pre>

<h3 id="java-reflection">Java Reflection<a href="#java-reflection" class="anchor"></a></h3>

<p>Java reflection works on Kotlin classes and vice versa. As mentioned above, you can use <code>instance.javaClass</code> or 
<code>javaClass&lt;ClassName&gt;()</code> to enter Java reflection through <code>java.lang.Class</code>. You can then “convert” to Kotlin reflection
by calling <code>.kotlin</code>:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">val</span> <span class="py">kClass</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="n">javaClass</span><span class="p">.</span><span class="n">kotlin</span></code></pre>

<p>In much the same way you can convert from Kotlin reflection to Java: <code>ClassName::class.java</code> is the same as <code>javaClass&lt;ClassName&gt;()</code>.
Other supported cases include acquiring a Java getter/setter method or a backing field for a Kotlin property, 
getting a containing <code>KPackage</code> instance for a Java class, and getting a <code>KProperty</code> for a Java field.</p>

<h3 id="sam-conversions">SAM Conversions<a href="#sam-conversions" class="anchor"></a></h3>

<p>Just like Java 8, Kotlin supports SAM conversions. This means that Kotlin function literals can be automatically converted
into implementations of Java interfaces with a single non-default method, as long as the parameter types of the interface
method match the parameter types of the Kotlin function.</p>

<p>You can use this for creating instances of SAM interfaces:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">val</span> <span class="py">runnable</span> <span class="p">=</span> <span class="n">Runnable</span> <span class="p">{</span> <span class="n">println</span><span class="p">(</span><span class="s">&quot;This runs in a runnable&quot;</span><span class="p">)</span> <span class="p">}</span></code></pre>

<p>…and in method calls:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">val</span> <span class="py">executor</span> <span class="p">=</span> <span class="n">ThreadPoolExecutor</span><span class="p">()</span>
<span class="c1">// Java signature: void execute(Runnable command)</span>
<span class="n">executor</span><span class="p">.</span><span class="n">execute</span> <span class="p">{</span> <span class="n">println</span><span class="p">(</span><span class="s">&quot;This runs in a thread pool&quot;</span><span class="p">)</span> <span class="p">}</span></code></pre>

<p>Note that SAM conversions only work for interfaces, not for abstract classes, even if those also have just a single
abstract method.</p>

<p>Also note that this feature works only for Java interop; since Kotlin has proper function types, automatic conversion
of functions into implementations of Kotlin interfaces is unnecessary and therefore unsupported.</p>

<h2 id="calling-kotlin-code-from-java">Calling Kotlin code from Java<a href="#calling-kotlin-code-from-java" class="anchor"></a></h2>

<p>Kotlin code can be called from Java easily.</p>

<h3 id="package-level-functions">Package-Level Functions<a href="#package-level-functions" class="anchor"></a></h3>

<p>All the functions and properties declared inside a package <code>org.foo.bar</code> are put into a Java class named <code>org.foo.bar.BarPackage</code>.</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">package</span> <span class="nn">demo</span>

<span class="k">class</span> <span class="nc">Foo</span>

<span class="k">fun</span> <span class="nf">bar</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span></code></pre>

<pre><code class="code-block _highlighted lang_java"><span class="c1">// Java</span>
<span class="k">new</span> <span class="n">demo</span><span class="o">.</span><span class="na">Foo</span><span class="o">();</span>
<span class="n">demo</span><span class="o">.</span><span class="na">DemoPackage</span><span class="o">.</span><span class="na">bar</span><span class="o">();</span></code></pre>

<p>For the root package (the one that’s called a “default package” in Java), a class named <code>_DefaultPackage</code> is created.</p>

<h3 id="static-methods-and-fields">Static Methods and Fields<a href="#static-methods-and-fields" class="anchor"></a></h3>

<p>As mentioned above, Kotlin generates static methods for package-level functions. On top of that, it also generates static methods
for functions defined in named objects or companion objects of classes and annotated as <code>@platformStatic</code>. For example:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">C</span> <span class="p">{</span>
  <span class="n">companion</span> <span class="k">object</span> <span class="err">{</span>
    <span class="n">platformStatic</span> <span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{}</span>
    <span class="k">fun</span> <span class="nf">bar</span><span class="p">()</span> <span class="p">{}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>

<p>Now, <code>foo()</code> is static in Java, while <code>bar()</code> is not:</p>

<pre><code class="code-block _highlighted lang_java"><span class="n">C</span><span class="o">.</span><span class="na">foo</span><span class="o">();</span> <span class="c1">// works fine</span>
<span class="n">C</span><span class="o">.</span><span class="na">bar</span><span class="o">();</span> <span class="c1">// error: not a static method</span></code></pre>

<p>Same for named objects:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">object</span> <span class="nc">Obj</span> <span class="p">{</span>
    <span class="n">platformStatic</span> <span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{}</span>
    <span class="k">fun</span> <span class="nf">bar</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span></code></pre>

<p>In Java:</p>

<pre><code class="code-block _highlighted lang_java"><span class="n">Obj</span><span class="o">.</span><span class="na">foo</span><span class="o">();</span> <span class="c1">// works fine</span>
<span class="n">Obj</span><span class="o">.</span><span class="na">bar</span><span class="o">();</span> <span class="c1">// error</span>
<span class="n">Obj</span><span class="o">.</span><span class="na">INSTANCE$</span><span class="o">.</span><span class="na">bar</span><span class="o">();</span> <span class="c1">// works, a call through the singleton instance</span>
<span class="n">Obj</span><span class="o">.</span><span class="na">INSTANCE$</span><span class="o">.</span><span class="na">foo</span><span class="o">();</span> <span class="c1">// works too</span></code></pre>

<p>Also, public properties defined in objects and companion objects are turned into static fields in Java:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">object</span> <span class="nc">Obj</span> <span class="p">{</span>
  <span class="k">val</span> <span class="py">CONST</span> <span class="p">=</span> <span class="m">1</span>
<span class="p">}</span></code></pre>

<p>In Java:</p>

<pre><code class="code-block _highlighted lang_java"><span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="n">Obj</span><span class="o">.</span><span class="na">CONST</span><span class="o">;</span></code></pre>

<h3 id="handling-signature-clashes-with-platformname">Handling signature clashes with @platformName<a href="#handling-signature-clashes-with-platformname" class="anchor"></a></h3>

<p>Sometimes we have a named function in Kotlin, for which we need a different JVM name the byte code.
The most prominent example happens due to <em>type erasure</em>:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">fun</span> <span class="nf">List</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;.</span><span class="n">filterValid</span><span class="p">():</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span>
<span class="k">fun</span> <span class="nf">List</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;.</span><span class="n">filterValid</span><span class="p">():</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;</span></code></pre>

<p>These two functions can not be defined side-by-side, because their JVM signatures are the same: <code>filterValid(Ljava/util/List;)Ljava/util/List;</code>.
If we really want them to have the same name in Kotlin, we can annotate one (or both) of them with <code>@platformName</code> and specify a different name as an argument:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">fun</span> <span class="nf">List</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;.</span><span class="n">filterValid</span><span class="p">():</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span>
<span class="n">@platformName</span><span class="p">(</span><span class="s">&quot;filterValidInt&quot;</span><span class="p">)</span>
<span class="k">fun</span> <span class="nf">List</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;.</span><span class="n">filterValid</span><span class="p">():</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;</span></code></pre>

<p>From Kotlin they will be accessible by the same name <code>filterValid</code>, but from Java it will be <code>filterValid</code> and <code>filterValidInt</code>.</p>

<p>The same trick applies when we need to have a property <code>x</code> alongside with a function <code>getX()</code>:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">val</span> <span class="py">x</span><span class="p">:</span> <span class="n">Int</span>
  <span class="n">@platformName</span><span class="p">(</span><span class="s">&quot;getX_prop&quot;</span><span class="p">)</span>
  <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="m">15</span>

<span class="k">fun</span> <span class="nf">getX</span><span class="p">()</span> <span class="p">=</span> <span class="m">10</span></code></pre>

<h3 id="overloads-generation">Overloads Generation<a href="#overloads-generation" class="anchor"></a></h3>

<p>Normally, if you write a Kotlin method with default parameter values, it will be visible in Java only as a full
signature, with all parameters present. If you wish to expose multiple overloads to Java callers, you can use the
@jvmOverloads annotation.</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="n">jvmOverloads</span> <span class="k">fun</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="m">0</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">String</span> <span class="p">=</span> <span class="s">&quot;abc&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span></code></pre>

<p>For every parameter with a default value, this will generate one additional overload, which has this parameter and
all parameters to the right of it in the parameter list removed. In this example, the following methods will be
generated:</p>

<pre><code class="code-block _highlighted lang_java"><span class="c1">// Java</span>
<span class="kt">void</span> <span class="nf">f</span><span class="o">(</span><span class="n">String</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">,</span> <span class="n">String</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
<span class="kt">void</span> <span class="nf">f</span><span class="o">(</span><span class="n">String</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
<span class="kt">void</span> <span class="nf">f</span><span class="o">(</span><span class="n">String</span> <span class="n">a</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span></code></pre>

<p>The annotation also works for constructors, static methods etc. It can’t be used on abstract methods, including methods
defined in interfaces.</p>

<p>Note that, as described in <a href="classes.html#secondary-constructors">Secondary Constructors</a>, if a class has default
values for all constructor parameters, a public no-argument constructor will be generated for it. This works even
if the @jvmOverloads annotation is not specified.</p>

<h3 id="checked-exceptions-1">Checked Exceptions<a href="#checked-exceptions-1" class="anchor"></a></h3>

<p>As we mentioned above, Kotlin does not have checked exceptions.
So, normally, the Java signatures of Kotlin functions do not declare exceptions thrown.
Thus if we have a function in Kotlin like this:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">package</span> <span class="nn">demo</span>

<span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">throw</span> <span class="n">IOException</span><span class="p">()</span>
<span class="p">}</span></code></pre>

<p>And we want to call it from Java and catch the exception:</p>

<pre><code class="code-block _highlighted lang_java"><span class="c1">// Java</span>
<span class="k">try</span> <span class="o">{</span>
  <span class="n">demo</span><span class="o">.</span><span class="na">DemoPackage</span><span class="o">.</span><span class="na">foo</span><span class="o">();</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// error: foo() does not declare IOException in the throws list</span>
  <span class="c1">// ...</span>
<span class="o">}</span></code></pre>

<p>we get an error message from the Java compiler, because <code>foo()</code> does not declare <code>IOException</code>.
To work around this problem, use the <code>@throws</code> annotation in Kotlin:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="n">@throws</span><span class="p">(</span><span class="n">IOException</span><span class="o">::</span><span class="k">class</span><span class="p">)</span> <span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="n">IOException</span><span class="p">()</span>
<span class="p">}</span></code></pre>

<h3 id="null-safety">Null-safety<a href="#null-safety" class="anchor"></a></h3>

<p>When calling Kotlin functions from Java, nobody prevents us from passing <em class="keyword">null</em> as a non-null parameter.
That’s why Kotlin generates runtime checks for all public functions that expect non-nulls.
This way we get a <code>NullPointerException</code> in the Java code immediately.</p>

<h3 id="properties">Properties<a href="#properties" class="anchor"></a></h3>

<p>Property getters are turned into <em>get</em>-methods, and setters – into <em>set</em>-methods.</p>

    </article>
</div>

<script>
require(['page/reference'], function(page) {
    page();
});
</script>
    </div>

</div>

<footer role="contentinfo" class="global-footer">

    <div class="global-footer-terms">
        <div class="g-layout">

            <div class="terms-copyright">
                &copy; 2000&ndash;2015 JetBrains. All rights reserved
            </div>

            <div class="terms-sponsor">
                Sponsored and developed by <a href="http://jetbrains.com" class="sponsor sponsor_jetbrains" target="_blank">JetBrains</a> Translation by <a href="http://tanfujun.cc" class="testimonial-company-link" target="_blank" rel="nofollow">晓_晨DEV</a>
            </div>
        </div>
    </div>

</footer>
</body>
</html>